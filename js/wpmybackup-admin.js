window.js55f846e1d1da3=(function(window,globals,undefined){var this_url,ajaxurl,toggle_mysql_maint,run_mysql_maint,backup_sources,refreshTicketList,php_setup,setNightlyBuildWarning,backupcli_hint,plugin_dir,helpROOT,clearLog,applyJobsFilter,flushHistory,refreshDiskSrcInfo,refreshFolderList,search_rest_file,refreshFileList,read_alerts,chartReload,getShowWhat,message_info,messages_scroll,scroll2page,show_hint,filterJobs,editTarget,delTarget,onSaveError,chkDesc,copyObjProps,print_debug_sample,subtotal,toggle_feat_chks,toolchain_ext_hint,backupcli_hint,os_schedule_hint,history_hint,toggle_feat_grpchks,onaddon_install;var js_pattern=/<(script)\b[^>]*>([\s\S]*?)<\/\1>/gm;var ie=(function(){var undef,v=3,div=document.createElement("div"),all=div.getElementsByTagName("i");while(div.innerHTML="<!--[if gt IE "+(++v)+"]><i></i><![endif]-->",all[0]){}return v>4?v:undef}());Date.now=Date.now||function(){return +new Date};window.hasOwnProperty=window.hasOwnProperty||Object.prototype.hasOwnProperty;var _addEventListener=function(object,type,listener,useCapture){return"function"==typeof object.addEventListener?object.addEventListener(type,listener,useCapture):object.attachEvent(type,listener)};if(typeof String.prototype.trim!=="function"){String.prototype.trim=function(){return this.replace(/^\s+|\s+$/g,"")}}getStyle=function(el,prop){if(typeof getComputedStyle!==globals.UNDEFINED){return getComputedStyle(el,null).getPropertyValue(prop)}else{return el.currentStyle[prop]}};if(!Object.keys){Object.keys=(function(){var hasOwnProperty=Object.prototype.hasOwnProperty,hasDontEnumBug=!({toString:null}).propertyIsEnumerable("toString"),dontEnums=["toString","toLocaleString","valueOf","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","constructor"],dontEnumsLength=dontEnums.length;return function(obj){if(typeof obj!=="object"&&(typeof obj!=="function"||obj===null)){throw new TypeError("Object.keys called on non-object")}var result=[],prop,i;for(prop in obj){if(hasOwnProperty.call(obj,prop)){result.push(prop)}}if(hasDontEnumBug){for(i=0;i<dontEnumsLength;i++){if(hasOwnProperty.call(obj,dontEnums[i])){result.push(dontEnums[i])}}}return result}}())}if(ie<8){(function(){var style=document.createStyleSheet(),select=function(selector,maxCount){var all=document.all,l=all.length,i,resultSet=[];style.addRule(selector,"foo:bar");for(i=0;i<l;i+=1){if(all[i].currentStyle.foo==="bar"){resultSet.push(all[i]);if(resultSet.length>maxCount){break}}}style.removeRule(0);return resultSet};if(document.querySelectorAll||document.querySelector){return}document.querySelectorAll=function(selector){return select(selector,Infinity)};document.querySelector=function(selector){return select(selector,1)[0]||null}}())}_addEventListener(document,(ie<9?"on":"")+"keydown",function(ev){ev=ev||window.event;if(ev.keyCode==27&&(divId=Object.keys(js55f846e1d1da3.globals.OPENED_POPUP_WINDOWS).pop())&&(top_div=document.getElementById(divId))){if(!js55f846e1d1da3.globals.OPENED_POPUP_WINDOWS[divId]){removePopup(top_div)}else{popupConfirm("Confirm","Are you sure you want to close this window?",null,{Yes:"js55f846e1d1da3.removePopup(document.getElementById('"+divId+"'));js55f846e1d1da3.removePopupLast();",Cancel:null})}if(ev.preventDefault){ev.preventDefault()}else{ev.returnValue=false}return false}});if(!Array.prototype.indexOf){Array.prototype.indexOf=function(elt){var len=this.length>>>0;var from=Number(arguments[1])||0;from=(from<0)?Math.ceil(from):Math.floor(from);if(from<0){from+=len}for(;from<len;from++){if(from in this&&this[from]===elt){return from}}return -1}}Object.size=function(obj){var size=0,key;for(key in obj){if(obj.hasOwnProperty(key)){size++}}return size};function evalJS(js){try{eval(js)}catch(err){console.log(err)}}function getClientSize(eid,s){var e=document.getElementById(eid);return e?("w"==s?e.clientWidth:e.clientHeight):0}function select_text(element){var doc=document,range,selection;if(doc.body.createTextRange){range=document.body.createTextRange();range.moveToElementText(element);range.select()}else{if(window.getSelection){selection=window.getSelection();range=document.createRange();range.selectNodeContents(element);selection.removeAllRanges();selection.addRange(range)}}}var isNull=function(obj,value){return(typeof obj===globals.UNDEFINED||obj===null)?value:obj};function convertEm2Pixels(value){var v=/\d+/.exec(getStyle(document.documentElement,ie<9?"fontSize":"font-size"));return value*parseFloat(v)}function formatTime(diff){var f=function(v){return(v<10?"0":"")+v};var H=3600000,M=60000,h=Math.floor(diff/H);diff=diff%H;return f(h)+":"+f(Math.floor(diff/M))+":"+f(Math.floor((diff%M)/1000))}function addTrailingSlash(path,dir_sep){if(isNull(path,"").length>0){dir_sep=isNull(dir_sep,"/");if(dir_sep!=path.substr(-1,dir_sep.length)){path+=dir_sep}}return path}function beforeSubmit(){var inputs,hiddeninputs,i,j,frm_wpezbackup=document.getElementById(globals.ADMIN_FORM),pattern=new RegExp("^"+globals.root+".*$"),chk_file_pattern=new RegExp("f_[\dw]*(_\d+)*"),i,j,nel;if(!frm_wpezbackup){return}inputs=frm_wpezbackup.getElementsByTagName("input");if(!inputs){return}for(i=0;i<inputs.length;i++){if(inputs[i].type!=="checkbox"){continue}if((nel=inputs[i].nextElementSibling)&&pattern.test(nel.innerHTML)){inputs[i].disabled=true}else{if(chk_file_pattern.test(inputs[i].name)){inputs[i].disabled=true}else{if(inputs[i].checked){hiddeninputs=inputs[i].parentNode.getElementsByTagName("input");for(j=0;j<hiddeninputs.length;j++){if(hiddeninputs[j].type=="hidden"&&hiddeninputs[j].name==inputs[i].name){hiddeninputs[j].disabled=true}}}}}}}var getFieldValues=function(include_hidden,encode_uri){include_hidden=isNull(include_hidden,false);encode_uri=isNull(encode_uri,true);var i,j,inputs,fields=[],frm_wpezbackup=document.getElementById(globals.ADMIN_FORM),pattern=/^[\w\d]+$/,tags=["input","select","textarea"];for(j in tags){inputs=frm_wpezbackup.getElementsByTagName(tags[j]);for(i=0;i<inputs.length;i+=1){if(!inputs[i].disabled&&fields.indexOf(inputs[i].name<0)&&inputs[i].type!="button"&&false!==pattern.test(inputs[i].name)&&(inputs[i].type!="radio"||inputs[i].checked)){if(globals.SUPERSEDE_FIELDS!=inputs[i].name&&((inputs[i].type=="hidden"&&!include_hidden)||(inputs[i].type!="hidden"&&include_hidden)||globals.UNDEFINED==inputs[i].name)){continue}fields[inputs[i].name]=inputs[i].type=="checkbox"?inputs[i].checked:(encode_uri?encodeURIComponent(inputs[i].value):inputs[i].value)}}}return fields};var getAsyncSubmitFields=function(include_hidden,obj_format,since_pageload){obj_format=isNull(obj_format,false);since_pageload=isNull(since_pageload,false);var fields=getFieldValues(include_hidden,!obj_format),keys=Object.keys(fields);var fval,result=obj_format?{}:"";for(var i=0;i<keys.length;i+=1){if(globals.INITIAL_FIELDS[keys[i]]==fields[keys[i]]&&(since_pageload&&globals.PAGELOAD_INITIAL_FIELDS[keys[i]]==fields[keys[i]])&&globals.SUPERSEDE_FIELDS!=fields[keys[i]]){continue}if(null!==isNull(keys[i],null)){fval=fields[keys[i]];if("string"==typeof fval){fval=encodeURI(fval)}if(!obj_format){result+=keys[i]+"="+fval+"&"}else{result[keys[i]]=fval}}}if(!obj_format){result=result.length>0?result.substr(0,result.length-1):""}return result};function enableOpt(element,opt){if(!element){return}element.value=opt;element.disabled=!opt}function showSpin(do_what,visible){if(do_what<0){return}var spin_obj=["save","run","save","ticket"];visible=isNull(visible,"visible");enableOpt(document.getElementsByName("run_backup")[0],1==do_what);enableOpt(document.getElementsByName("reset_defaults")[0],2==do_what);spin=document.getElementById("spin_"+spin_obj[do_what]);if(spin){spin.style.visibility=visible;document.getElementById("hint_"+spin_obj[do_what]).style.visibility=visible;document.body.style.cursor=visible&&"hidden"==visible?"default":"wait"}}var locked_settings=function(){return globals.INITIAL_FIELDS.hasOwnProperty("locked_settings")&&1==globals.INITIAL_FIELDS.locked_settings&&1==document.getElementById("locked_settings").value};var submitOptions=function(sender,do_what){if(locked_settings()){return}globals.FORM_SAVING=true;while(sender&&(sender.nodeName!=="DIV"||(sender.id&&sender.id.indexOf("_list")<0))){sender=sender.parentNode}if(sender&&sender.id.indexOf("_list")>0){sender.className+=" loading";sender.style.cursor="wait"}if(null!==globals.BEFORE_SUBMIT_OPTIONS_CALLBACK){globals.BEFORE_SUBMIT_OPTIONS_CALLBACK()}form=document.getElementById(globals.ADMIN_FORM);if(null!==form){beforeSubmit();showSpin(do_what);form.submit()}};function submitOnlyChanges(){var params=getAsyncSubmitFields(false,true,true);if(0==Object.size(params)){return}if(globals.INITIAL_FIELDS.hasOwnProperty(globals.SUPERSEDE_FIELDS)){params[globals.SUPERSEDE_FIELDS]=globals.INITIAL_FIELDS[globals.SUPERSEDE_FIELDS]}var i,j,els,fields=Object.keys(getFieldValues(false,false));for(i=0;i<fields.length;i+=1){if(!params.hasOwnProperty(fields[i])){els=document.getElementsByName(fields[i]);for(j=0;j<els.length;j+=1){els[j].disabled=true}}}}globals.BEFORE_SUBMIT_OPTIONS_CALLBACK=submitOnlyChanges;var toggle_enabled=function(name,enabled){items=document.getElementsByName(name);for(var i=0;i<items.length;i++){items[i].disabled=!enabled;if(enabled&&items[i].checked){items[i].onclick()}}var i=1,e=false;while((e=document.getElementById("schedule_cron_row"+i++))){e.style.display=enabled?"table-row":"none"}};function getPattern(sender){return new RegExp(".+_"+sender.name.replace(/[^_]+_(.*)/g,"$1"))}var toggle_children=function(sender){var inputs=document.getElementById(globals.ADMIN_FORM).getElementsByTagName("input"),pattern=getPattern(sender),i,j,matched,dir_names,node,excludeDirs=[],link,decoration=sender.checked?"none":"line-through";for(i=0;i<inputs.length;i++){if(pattern.test(inputs[i].name)){inputs[i].checked=sender.checked;inputs[i].nextElementSibling.style.textDecoration=decoration}}toggle_parent(sender);dir_names=getFolderList(document.getElementById("root_dir").name).split(",");for(i=0;i<dir_names.length;i+=1){node=document.getElementsByName(dir_names[i]);if(node&&node.length>0){link=node[0].nextElementSibling;excludeDirs.push(0==link.title.length?link.innerHTML:link.title)}}var result=[];for(i=0;i<excludeDirs.length;i+=1){matched=false;for(j=0;j<excludeDirs.length;j+=1){matched=excludeDirs[i]!=excludeDirs[j]&&0===excludeDirs[i].indexOf(excludeDirs[j]);if(matched){break}}if(!matched){result.push(excludeDirs[i])}}document.getElementById(globals.EXCL_DIRS).value=result.join();sender.nextSibling.style.textDecoration=decoration};function getLastIndexOf(str,search,nth){var pos=0;while(pos>=0&&nth>0){pos=str.lastIndexOf(search);if(pos>=0){str=str.substring(0,pos);nth-=1}}return pos}function getChildFolders(parent_name){var items=document.getElementById(globals.ADMIN_FORM).getElementsByTagName("input"),i;result=[];for(i=0;i<items.length;i+=1){if(items[i].name.indexOf(parent_name+".")===0){result.push(items[i])}}return result}function toggle_parent(sender){var p=getLastIndexOf(sender.name,".",2),parent,parent_name,children,i,checked;if(p<0){return}parent_name=sender.name.substring(0,p);children=getChildFolders(parent_name);checked=true;for(i=0;i<children.length;i+=1){checked=checked&&children[i].checked}parent=document.getElementsByName(parent_name)[0];if(parent){parent.checked=checked;toggle_parent(parent)}}var toggle_compression_type=function(sender){if(sender.selectedIndex===0){document.getElementById("compression_level").value="0"}document.getElementById("compression_level").disabled=(sender.selectedIndex===0)};var toggle_backup_name=function(sender){if("name"==sender.name){document.getElementById("url").disabled=sender.value.length>0&&0===document.getElementById("url").value.length}else{if("url"==sender.name){document.getElementById("name").disabled=sender.value.length>0}}};var showScheduleInterval=function(sender){return;if(sender&&sender.style.visibility=="hidden"||!globals.schedule){return}var d=new Date(1000*globals.schedule[sender.selectedIndex][1]);var time=(d.getHours()<10?"0":"")+d.getHours()+":"+(d.getMinutes()<10?"0":"")+d.getMinutes()+":"+(d.getSeconds()<10?"0":"")+d.getSeconds();document.getElementById("schedule_time").innerHTML=" @ "+d.toLocaleTimeString()};function getParentFolder(name){var p=getLastIndexOf(name,".",2);return p>0?name.substring(0,p):null}function baseName(name){var p=getLastIndexOf(name,"/",2);return p>0?name.substring(0,p):null}function _basename(str,sep){return str.substr(str.lastIndexOf(sep)+1)}function getFolderList(root_dir){var items=document.getElementById(globals.ADMIN_FORM).getElementsByTagName("input"),skipChildrens=[],chkChildren=0,except=[],i,exceptChild;for(i=0;i<items.length;i++){if("checkbox"!=items[i].type||items[i].name.indexOf(root_dir+".")<0){continue}else{if(skipChildrens.indexOf(getParentFolder(items[i].name))<0&&except.indexOf(items[i].name)<0){if(!items[i].checked){exceptChild=getFolderList(items[i].name);if(exceptChild==items[i].name){skipChildrens.push(exceptChild)}if(""===exceptChild){except.push(items[i].name)}else{except.push(exceptChild)}}else{chkChildren++}}}}return chkChildren===0?root_dir:except.join()}var toggle_wp_cron=function(enabled){e=document.getElementById(globals.EXCL_DIRS);if(e&&""!==e.value){excludeDirStr=" <b>--"+globals.EXCL_DIRS+"=</b>"+e.value}else{excludeDirStr=""}var e=document.getElementById("schedule_wp_cron");var c=document.getElementById("check_wp_cron");var r=document.getElementById("schedule_cron_row1_1");var p=document.getElementById("os_cron_hint");var n=document.getElementById("os_cron_hint_note");var w=document.getElementById("wp_cron_note");if(e){e.style.visibility=enabled?"visible":"hidden";c.style.visibility=e.style.visibility;r.style.display=enabled?"table-row":"none";s=document.getElementById("schedule_time");if(s){s.style.visibility=e.style.visibility}}if(p){p.style.visibility=!enabled?"visible":"hidden";n.style.visibility=p.style.visibility;document.getElementById("os_cron_clpb").style.visibility=p.style.visibility;if(enabled){showScheduleInterval(e);p.innerHTML="";p.style.display="none"}else{p.innerHTML=globals.OS_CRON_STR+excludeDirStr;p.style.display="inline-block"}}if(n){n.style.display=enabled?"none":"inline-block"}if(w){w.style.display=enabled?"inline-block":"none"}};function s4(){return Math.floor((1+Math.random())*65536).toString(16).substring(1)}function scrollPopup(eid){(el=document.getElementById(eid))&&(el.scrollTop=el.scrollHeight)}var removePopup=function(popup){if(popup){var id=popup.id;document.body.removeChild(popup);popup=null;delete globals.OPENED_POPUP_WINDOWS[id]}};var removePopupLast=function(){var keys=Object.keys(globals.OPENED_POPUP_WINDOWS);if(keys.length>0){removePopup(document.getElementById(keys.pop()))}};function removePopupAll(){var keys=Object.keys(globals.OPENED_POPUP_WINDOWS);while(keys.length>0){removePopup(document.getElementById(keys.pop()))}}var popupCalcSize=function(id,max_width,max_height){var newdiv=document.getElementById(id);if(!newdiv){return false}var WPadminBar=document.getElementById("wpadminbar"),WPadminMenu=document.getElementById("adminmenuback"),newdiv=document.getElementById(id);var titlebar=document.getElementById("titlebar_"+id),titlebarHeight=titlebar?titlebar.clientHeight:convertEm2Pixels(2),titlebarPadding=2;var WPadminBarHeight=WPadminBar?WPadminBar.clientHeight:0,WPadminMenuWidth=WPadminMenu?WPadminMenu.clientWidth:0;var style="width:100%;",left,top;window_height=window.innerHeight||document.documentElement.clientHeight||document.body.clientHeight;window_width=window.innerWidth||document.documentElement.clientWidth||document.body.clientWidth;if(newdiv.clientHeight>window_height-100-WPadminBarHeight){var h=window_height-WPadminBarHeight-50;style+="overflow-y:auto;max-height:"+(h-titlebarHeight-WPadminBarHeight-24)+"px;";newdiv.style.maxHeight=h+"px"}if(newdiv.clientWidth>window_width-100-WPadminMenuWidth){var w=window_width-50;style+="overflow:auto;max-width:"+(w-10-WPadminMenuWidth)+"px;";newdiv.style.maxWidth=w+"px"}if(style.length>0){newdiv.innerHTML=newdiv.innerHTML.replace(/title=(['"]*)@INNER-STYLE@\1/,'style="'+style+'"')}left=(window_width-isNull(max_width,newdiv.clientWidth)+WPadminMenuWidth)/2;if(left<0){left=0}newdiv.style.left=left+"px";top=(window_height-isNull(max_height,newdiv.clientHeight)+WPadminBarHeight)/2;if(top<0){top=0}newdiv.style.top=top+"px";if(null!==isNull(max_width,null)){newdiv.style.maxWidth=isNull(max_width+"px",newdiv.style.maxWidth)}if(null!==isNull(max_height,null)){newdiv.style.maxHeight=isNull(max_height+"px",newdiv.style.maxHeight)}newdiv.style.minWidth=100+"px"};var popupWindow=function(title,content,width,height,titlecolor,reuse_div,autoscroll,confirmclose,buttons,default_prompt,control_type,zindex){titlecolor=isNull(titlecolor,"#2ca8d2");confirmclose=isNull(confirmclose,false);var okd,uuid,i,name,divIdName,window_width,window_height,divs=document.getElementsByTagName("div"),cmsg="Are you sure you want to close this window?";var div_exists=(reuse_div&&document.getElementById(reuse_div.id)&&document.getElementById(reuse_div.id).style);var titlebar,titlebarHeight,titlebarPadding;if(!div_exists){if(!reuse_div){uuid=s4()+s4()+s4()+s4();newdiv=document.createElement("div");divIdName="popupDiv_"+uuid;newdiv.setAttribute("id",divIdName)}else{newdiv=reuse_div;divIdName=newdiv.id;uuid=divIdName.substr(divIdName.indexOf("_")+1)}newdiv.onmousedown=function(event){var clientY=event?event.clientY:window.event.clientY;var clientX=event?event.clientX:window.event.clientX;var titlebar=document.getElementById("titlebar_"+this.id.substr(this.id.indexOf("_")+1));if((clientY)>Number(this.style.top.replace("px",""))+5+titlebar.clientHeight||clientX>Number(this.style.left.replace("px",""))+titlebar.clientWidth-30){return}window.offset_y=clientY-this.offsetTop;window.offset_x=clientX-this.offsetLeft;window.dragging=true;this.style.cursor="move"};newdiv.onmouseup=function(){this.style.cursor="initial";window.dragging=false};newdiv.onmousemove=function(event){if(!window.dragging){return}var clientY=event?event.clientY:window.event.clientY;var clientX=event?event.clientX:window.event.clientX;this.style.top=(clientY-window.offset_y)+"px";this.style.left=(clientX-window.offset_x)+"px";this.style.cursor="move"}}else{newdiv=reuse_div;divIdName=newdiv.id}titlebar=document.getElementById("titlebar_"+uuid),titlebarHeight=titlebar?titlebar.clientHeight:convertEm2Pixels(2),titlebarPadding=2;var arr=[];if(buttons){for(var k in buttons){buttons.hasOwnProperty(k)&&arr.push(k)}}var btn_count=arr.length;var s='<div id="'+divIdName+'_close" class="popup_close" title="Click or ESC to close" onclick="'+(confirmclose?"js55f846e1d1da3.popupConfirm('Confirm close', '"+cmsg+"',null,{'Yes':'js55f846e1d1da3.removePopup(this.parentElement);','Cancel':null}))":"")+'js55f846e1d1da3.removePopup(this.parentElement);"></div>';s+='<div id="'+divIdName.replace("popupDiv_","titlebar_")+'" style="background-color:'+titlecolor+";height:"+titlebarHeight+'px;"><table style="display:block;position:absolute;background-color:'+titlecolor+";height:"+titlebarHeight+'px;"><tr><td style="font-weight:bold;color:#fff;height:'+(titlebarHeight-2*titlebarPadding)+'px">'+title+"</td></tr></table></div>";s+='<div id="'+divIdName+'_inner" class="popup-inner" title="@INNER-STYLE@" onmousedown="return"><table style="width:100%;"><tr><td'+(btn_count>0?' colspan="'+btn_count+'"':"")+' style="padding:4px;">'+content+"</td></tr>";if(null!==isNull(default_prompt,null)){var tag_name="textarea"==isNull(control_type,"text")?control_type:"input";var tag_type="textarea"==tag_name?"":('type="'+control_type+'"');s+='<tr style="padding-top:10px">';s+="<td "+(btn_count>0?' colspan="'+btn_count+'"':"")+"><"+tag_name+" "+tag_type+("textarea"!=tag_name?' value="'+default_prompt+'"':"")+' name="edit_prompt" style="width:100%;border:2px inset #00adee;padding-top:4px;padding-bottom:4px;margin-left:-3px;" '+(!isNull(default_prompt,false)?"":'size="'+default_prompt.length+'"')+">"+("textarea"==tag_name?default_prompt+"</textarea>":"")+"</td>";s+="</tr>"}if(btn_count>0){s+='<tr style="padding-top:10px">';for(var btn_caption in buttons){if(buttons.hasOwnProperty(btn_caption)){s+='<td style="text-align:center;width:'+Math.round(100/btn_count)+'%;padding:5px;"><input type="button" class="button" value="'+btn_caption+'" onclick="'+(null!==buttons[btn_caption]?buttons[btn_caption]:("js55f846e1d1da3.removePopup("+divIdName+")"))+'"/></td>'}}s+="</tr>"}s+="</table></div>";newdiv.innerHTML=s;newdiv.style.position="fixed";newdiv.style.padding="5px";newdiv.style.border="2px solid";newdiv.style.borderColor="#a1a1a1";newdiv.style.borderRadius="10px";newdiv.style.boxShadow="10px 10px 5px rgb"+(ie<9?"":"a")+"(0,0,0"+(ie<9?"":",0.5")+")";newdiv.style.background="white";newdiv.style.color="black";newdiv.style.select="none";newdiv.style.zIndex=zindex?zindex:1000;if(!div_exists){document.body.appendChild(newdiv)}popupCalcSize(divIdName,width,height);if(!div_exists){globals.OPENED_POPUP_WINDOWS[divIdName]=confirmclose}autoscroll===true&&scrollPopup(divIdName+"_inner");do{var results=js_pattern.exec(content);if(null!==results){evalJS(results[2])}}while(results);return newdiv};var popupError=function(title,content,width,height){return popupWindow(title,content,width,height,"#ff2c00",false,false,false,false,null,false,1001)};var popupConfirm=function(title,content,titlecolor,buttons){titlecolor=isNull(titlecolor,"#ffb600");return popupWindow(title,content,545,null,titlecolor,false,null,null,buttons,null,null,1001)};var popupPrompt=function(title,content,titlecolor,buttons,default_prompt,control_type,width){var result=popupWindow(title,content,width,null,titlecolor,null,null,null,buttons,default_prompt,control_type);if(result){control_type=isNull(control_type,"INPUT");var el=result.getElementsByTagName(control_type);if(el&&el.length>0){el[0].focus();el[0].select()}}return result};function buildParams(params,values){result="";for(var i=0;i<params.length;i++){if(typeof params[i]!==globals.UNDEFINED&&typeof values[i]!==globals.UNDEFINED){result+="&"+params[i]+"="+values[i]}}return result}function getFile(spin,location,service,nonce){if("ftp"==location){}showFileSpin(spin,true);post(js55f846e1d1da3.ajaxurl,{action:"dwl_file",nonce:nonce,service:service,location:location});return}var ajaxRequest=function(url,params,async,callback,method){if(!method){method="POST"}var do_callback=function(){callback(xmlhttp,start)};var xmlhttp,start=new Date();if(typeof XMLHttpRequest===globals.UNDEFINED){XMLHttpRequest=function(){try{return new ActiveXObject("Msxml2.XMLHTTP.6.0")}catch(e){}try{return new ActiveXObject("Msxml2.XMLHTTP.3.0")}catch(e){}try{return new ActiveXObject("Microsoft.XMLHTTP")}catch(e){}throw new Error("This browser does not support XMLHttpRequest.")}}xmlhttp=new window.XMLHttpRequest();if(callback){xmlhttp.onreadystatechange=do_callback;xmlhttp.onprogress=do_callback}if(url){try{globals.AJAX_THREADS.push({url:url,obj:xmlhttp});xmlhttp.open(method,url,async);xmlhttp.setRequestHeader("X-Requested-With","XMLHttpRequest");if(params&&params.length>0){xmlhttp.setRequestHeader("Content-type","application/x-www-form-urlencoded")}xmlhttp.send(params)}catch(err){if(callback){callback("JavaScript error: "+err.message)}}}else{throw"URL not specified!"}return xmlhttp};function abortAjaxThread(url){var i;while((i=globals.AJAX_THREADS.indexOf(url))>=0){if(~i){globals.AJAX_THREADS[i].obj.abort();globals.AJAX_THREADS.splice(i,1)}}}function abortAllAjaxThreads(){while(globals.AJAX_THREADS.length>0){abortAjaxThread(globals.AJAX_THREADS[0].url)}}var PARAM_SERVICE="s";var PARAM_REQUEST_URI="r";var PARAM_PROXY="p";var PARAM_STATE="state";var OAUTH_PROXY_URL="https://oauth2.mynixworld.info/";var guid=(function(){function s4(){return Math.floor((1+Math.random())*65536).toString(16).substring(1)}return function(){return s4()+s4()+"_"+s4()+"_"+s4()+"_"+s4()+"_"+s4()+s4()+s4()}}());var createDocElement=function(parent,type,attributes,text,addtoparent){if(!addtoparent){addtoparent=true}var prop,node,child=document.createElement(type);child.setAttribute("id",guid());if((["form","input"]).indexOf(type)<0){node=document.createTextNode(text||"")}if(attributes){for(prop in attributes){if(attributes.hasOwnProperty(prop)){child.setAttribute(prop,attributes[prop])}}}if(node){child.appendChild(node)}if(addtoparent&&parent){parent.appendChild(child)}return child};var post=function(path,params,method){method=method||"post";var form=createDocElement(document.body,"form",{method:method,action:path},null,false),key;for(key in params){if(params.hasOwnProperty(key)){createDocElement(form,"input",{type:"hidden",name:key,value:("object"==typeof params[key]?JSON.stringify(params[key]):params[key])})}}document.body.appendChild(form);form.submit();document.body.removeChild(form);form=null};var send_oauthrequest=function(method,service,proxy_auth_params){switch(method){case"get":window.location.href=OAUTH_PROXY_URL+"?"+PARAM_SERVICE+"="+service+"&"+PARAM_REQUEST_URI+"="+window.location.href+"&"+PARAM_PROXY+"="+encodeURIComponent(proxy_auth_params);break;case"post":var myObj={};myObj[PARAM_SERVICE]=service;myObj[PARAM_PROXY]=encodeURIComponent(proxy_auth_params);post(OAUTH_PROXY_URL,myObj);break}};var asyncRunJob=function(url,params,title,prefix,sufix,state,element,spin_id,onready,autoscroll,callback_getdiv,exec_script){var div=null,hide=false,obj;if(!url){return}prefix=isNull(prefix,"");sufix=isNull(sufix,"");title=isNull(title,"Output");state=isNull(state,3);element=isNull(element,false);spin_id=isNull(spin_id,0);autoscroll=isNull(autoscroll,true);onready=isNull(onready,false);callback_getdiv=isNull(callback_getdiv,false);exec_script=isNull(exec_script,true);callback=function(xmlhttp){if(xmlhttp){if(xmlhttp.substring){alert(xmlhttp);hide=true}else{if(xmlhttp.readyState>=state){if(typeof(xmlhttp.responseText)!=="unknown"){var job_pattern=/<!--\[job_id:([\-\d]*)\]-->/g;var progress_aware_actions=["run_backup","compression_benchmark","run_parallel_backup","run_mysql_maint","log_read","run_restore"];if(progress_aware_actions.indexOf(getUrlParamValue(params,"action"))>=0&&null!==(matches=xmlhttp.responseText.match(job_pattern))){if(null!==(matches=matches.pop().match(new RegExp(job_pattern.source)))){globals.JOB_ID=matches[1]}}if(!element){div=popupWindow(title+" console",prefix+xmlhttp.responseText+sufix,null,null,null,div,autoscroll);callback_getdiv&&callback_getdiv(div)}else{obj=document.getElementById(element);if(obj){obj.innerHTML=xmlhttp.responseText}}}hide=xmlhttp.readyState===4}}if(hide){showSpin(spin_id,"hidden");var el=document.getElementById(element);if(el){el.className=el.className.replace(/loading/g,"")}if(onready){onready(xmlhttp,el)}if(exec_script){do{var results=js_pattern.exec(xmlhttp.responseText);if(null!=isNull(results,null)){evalJS(results[2])}}while(results)}}}};showSpin(spin_id);ajaxRequest(url,params,true,callback)};function createProgressElement(provider,filename,bytes,total_bytes,speed,eta,p_type,running){var id=s4()+s4()+s4()+s4(),background="background_"+id,text="text_"+id,bar="bar_"+id,container="container_"+id,u_container="u_container_"+id;var perc=total_bytes>0?Math.round(100*bytes/total_bytes):0;var p_action="received",p_unit="bytes",txt_bar;switch(p_type){case 1:p_action=running<0?"sending":"sent";break;case 2:p_action=running<0?"adding":"added";p_unit="files";break;case 3:p_action=running<0?"compressing":"compressed";break;case 4:p_action=running<0?"writting":"written";break;case 5:p_action=running<0?"deleting":"deleted";p_unit="files";break;case 6:p_action=running<0?"analyzing":"analyzed";p_unit="tables";break;case 7:p_action=running<0?"executing":"executed";p_unit="statements";break;case 8:p_action=running<0?"decompressing":"decompressed";break}if(running<0){txt_bar=p_action+" "+speed+" (elapsed time : "+formatTime(Date.now()-globals.U_PROGRESS_START[provider+":"+filename])+")"}else{txt_bar=bytes+"/"+total_bytes+" "+p_unit+" "+p_action+" @ "+speed+" ~"+perc+"% (ETA: "+eta+")"}var bg_bar="<div id='"+background+"' class='pb_background' style='position:relative'><span id='"+text+"' class='pb_text'>"+txt_bar+"</span>";if(running<0){var ls=globals.U_PROGRESS_SIZE*(globals.U_PROGRESS_POS[provider+":"+filename]-1),ms=globals.U_PROGRESS_SIZE,rs=(100-globals.U_PROGRESS_SIZE*globals.U_PROGRESS_POS[provider+":"+filename]);return{id:id,html:bg_bar+"<div id='"+u_container+"' class='pb_u_container' style='width:"+ls+"%'></div><div id='"+bar+"' class='pb_bar' style='width:"+ms+"%'></div><div id='"+container+"' class='pb_u_container' style='width:"+rs+"%'></div></div>"}}return{id:id,html:bg_bar+"<div id='"+bar+"' class='"+(1==running?"pb_bar":"pb_idle")+"' style='width:"+perc+"%;'></div><div id='"+container+"' class='pb_container' style='width:"+(100-perc)+"%;'></div></div>"}}function on_u_progress(filename){if(null==isNull(globals.U_PROGRESS_START[filename],null)){globals.U_PROGRESS_START[filename]=Date.now();globals.U_PROGRESS_DIR[filename]=1;globals.U_PROGRESS_POS[filename]=1}globals.U_PROGRESS_POS[filename]+=globals.U_PROGRESS_DIR[filename];if(globals.U_PROGRESS_POS[filename]>100/globals.U_PROGRESS_SIZE){globals.U_PROGRESS_POS[filename]=100/globals.U_PROGRESS_SIZE-1;globals.U_PROGRESS_DIR[filename]=-globals.U_PROGRESS_DIR[filename]}else{if(globals.U_PROGRESS_POS[filename]<1){globals.U_PROGRESS_POS[filename]=2;globals.U_PROGRESS_DIR[filename]=-globals.U_PROGRESS_DIR[filename]}}}function on_progress(progress_ctrl,progress_data,nonce,div,btn_abort){var update_progress=function(){var data=document.getElementById(progress_data);if(!data||0==data.innerHTML.length){return}var popup=div?div:Object.keys(js55f846e1d1da3.globals.OPENED_POPUP_WINDOWS).pop();try{var data=JSON.parse(data.innerHTML);html="";for(var i in js55f846e1d1da3.backup_sources){if(data[i]){provider=js55f846e1d1da3.backup_sources[i];for(var filename in data[i]){if(data[i].hasOwnProperty(filename)){bytes=data[i][filename].bytes;total_bytes=data[i][filename].total_bytes;speed=data[i][filename].speed;eta=data[i][filename].eta;running=data[i][filename].running;if(Math.ceil(100*bytes/total_bytes)>=100||0==filename.length||(running>=0&&0==total_bytes)){continue}if(running<0){on_u_progress(provider+":"+filename)}ptype=data[i][filename].ptype;var obj=createProgressElement(provider,filename,parseInt(bytes),parseInt(total_bytes),speed,eta,ptype,running);html+=obj.html}}}}var pdiv=document.getElementById(progress_ctrl);if(pdiv){pdiv.innerHTML=html;scrollPopup(popup+"_inner")}}catch(e){}};asyncRunJob(js55f846e1d1da3.ajaxurl,"action=get_progress&nonce="+nonce,null,null,null,4,progress_data,-1,update_progress)}var asyncRunBackup=function(action,title,nonce1,nonce2,nonce3,nonce4,abort_action,extra_params){var progress_ctrl="progress_mngr",progress_data="progress_data",timer;var div=null,uid=s4()+s4()+s4()+s4(),tabort="abort_"+uid,scnt="cnt_"+uid;var onabort='js55f846e1d1da3.abortJob("'+isNull(abort_action,"abort_job")+'","'+nonce4+'",js55f846e1d1da3.globals.JOB_ID,js55f846e1d1da3.globals.ON_JOBABORT_SUCCESS);';var onready=function(xmlhttp){(el=document.getElementById(tabort))&&el.setAttribute("style","display:none");clearInterval(timer);asyncGetContent(js55f846e1d1da3.ajaxurl,"action=cleanup_progress&nonce="+nonce3,progress_data);if(200==xmlhttp.status){removePopup(divid);js55f846e1d1da3.globals.JOB_RUNNING=false;js55f846e1d1da3.globals.JOB_ID=null;js55f846e1d1da3.globals.JOB_ABORT_NONCE=null;if(typeof js55f846e1d1da3.read_alerts!==js55f846e1d1da3.globals.UNDEFINED){js55f846e1d1da3.read_alerts()}js55f846e1d1da3.globals.U_PROGRESS_DIR=[];js55f846e1d1da3.globals.U_PROGRESS_POS=[];js55f846e1d1da3.globals.U_PROGRESS_START=[];var popup=Object.keys(js55f846e1d1da3.globals.OPENED_POPUP_WINDOWS).pop(),popup_div=document.getElementById(popup);if(popup_div){document.getElementById(popup_div.id+"_close").setAttribute("onclick","js55f846e1d1da3.removePopup(document.getElementById('"+popup+"'))")}}};var onresponse=function(div){var inn=document.getElementById(div.id+"_inner"),cnt_height=getClientSize(div.id)-convertEm2Pixels(2)-72-getClientSize(tabort)+10;var cnt_width=getClientSize(div.id,"w")-42+10,x=getStyle(div,"left")+42-5;if(inn){inn.setAttribute("style","overflow:none")}document.getElementById(scnt).setAttribute("style","height:"+cnt_height+"px;width:"+cnt_width+"px;left:"+x+";overflow-y:auto;overflow-x:hidden");scrollPopup(scnt);btn_abort_job=document.getElementById("btn_"+tabort);if(btn_abort_job&&div){document.getElementById(div.id+"_close").onclick=btn_abort_job.onclick}};globals.U_PROGRESS_DIR=[];globals.U_PROGRESS_POS=[];globals.U_PROGRESS_START=[];globals.JOB_RUNNING=true;globals.JOB_ID=null;globals.JOB_ABORT_NONCE=nonce4;var divid=popupWindow(title+" console","Please wait. It will take some time...");var prefix="<div class='cui-console'><div id='"+tabort+"' style='text-align:center;'><input id='btn_"+tabort+"' type='button' class='button' value='Abort "+title+"' onclick='"+onabort+"'></div><pre id='"+scnt+"' style='overflow:auto;height:auto'>",sufix="</pre><div id='"+progress_data+"' style='display:none'></div></div><div id='"+progress_ctrl+"'></div>";asyncRunJob(js55f846e1d1da3.ajaxurl,"action="+action+"&nonce="+nonce1+(null==isNull(extra_params,null)?"":("&"+extra_params)),title,prefix,sufix,3,null,1,onready,false,onresponse);timer=setInterval(function(){on_progress(progress_ctrl,progress_data,nonce2,div,"btn_"+tabort)},globals.PROGRESS_REFRESH)};var asyncRunBenchmark=function(action,title,nonce1,nonce2,nonce3,nonce4){asyncRunBackup(action,title,nonce1,nonce2,nonce3,nonce4)};var asyncRunRestore=function(action,title,nonce1,nonce2,nonce3,nonce4,extra_params){asyncRunBackup(action,title,nonce1,nonce2,nonce3,nonce4,null,extra_params)};var asyncGetContent=function(url,params,element,onready,nospin,title,exec_script){var spin_id=nospin?-1:0;asyncRunJob(url,params,title,null,null,4,element,spin_id,onready,null,null,exec_script)};var fadeSSLIcons=function(){var i,els=document.getElementsByName("ssl_alert");if(els){for(i=0;i<els.length;i+=1){if(i>0){els[i].style.visibility="visible"==els[i-1].style.visibility?"hidden":"visible"}else{els[i].style.visibility="visible"==els[i].style.visibility?"hidden":"visible"}}}};var ftpExecCmd=function(url,params){if(!params||0===params.length){return popupError("Error","Invalid FTP command.")}asyncRunJob(url,params,"FTP","<div class='cui-console'>","</div>",3,null,1)};function sendFormData(url,nonce){var files_attached,files,file,i,formData=prepareFormData("support_sender_send",nonce);files_attached=document.getElementById("files_attached");files=files_attached.files;for(i=0;i<files.length;i+=1){file=files[i];formData.append("attachments[]",file,file.name)}onready=function(xmlhttp){popupWindow("Sent status",xmlhttp.responseText);refreshTicketList()};asyncRunJob(url,formData,"E-mail",null,null,4,"@#$%",3,onready)}var feedbackSupported=function(){if(ie<10){popupWindow("Alert","Feature not supported on IE<10");return false}return true};function prepareFormData(action,nonce){var plist,i,formData,ef=["error_type","error_info"],ei=["info_browser","info_all"],et,el;formData=new FormData();formData.append("action",action);formData.append("nonce",nonce);plist=["support_sender","support_subject","support_body","support_category","support_systemid"];el=document.getElementById("support_category");if("error"==el.options[el.selectedIndex].value){for(i=0;i<ef.length;i+=1){et=document.getElementById(ef[i]);plist.push(ef[i]);if(1==i){et=document.getElementById(ef[i]);if(ei.indexOf(et.options[et.selectedIndex].value)>=0){plist.push("info_browser")}}}}if("testimonial"==el.options[el.selectedIndex].value){plist.push("public_testimonial")}for(i=0;i<plist.length;i+=1){formData.append(plist[i],document.getElementById(plist[i]).value)}return formData}var validateFormData=function(url,action,nonce,nonce1){if(!feedbackSupported()){return}formData=prepareFormData(action,nonce);onready=function(xmlhttp){if(xmlhttp.responseText.trim()=="ok"){sendFormData(url,nonce1)}else{popupError("Alert",xmlhttp.responseText)}};asyncRunJob(url,formData,"E-mail",null,null,4,"@#$%",null,onready)};var setSupportBtnCaption=function(){var ctrl=document.getElementById("support_category");if(ctrl){document.getElementById("send_support").value="Send "+ctrl.options[ctrl.selectedIndex].text}};var setErrorInfoVisibility=function(option){var display=option!="error"?"none":"table-row",el=["error_type_row","error_info_row"],i;for(i=0;i<el.length;i+=1){document.getElementById(el[i]).style.display=display}};var setTestimonialVisibility=function(){var ctrl=document.getElementById("support_category");if(ctrl){document.getElementById("testimonial_opt_row").style.display="testimonial"==ctrl.options[ctrl.selectedIndex].value?"":"none"}};function auto_save(save_nonce,callback){if(locked_settings()){return}var params=getAsyncSubmitFields();if(globals.FORM_SAVING||0==params.length){return}if(globals.INITIAL_FIELDS.hasOwnProperty(globals.SUPERSEDE_FIELDS)){params+="&"+globals.SUPERSEDE_FIELDS+"="+globals.INITIAL_FIELDS[globals.SUPERSEDE_FIELDS]}params+="&action=auto_save&nonce="+save_nonce;if(params.length>0){asyncRunJob(js55f846e1d1da3.ajaxurl,params,null,null,null,4,"__dummy__",-1,function(){if(callback){callback()}js55f846e1d1da3.globals.INITIAL_FIELDS=getFieldValues()})}}var navFolder=function(service,parent_path,parent_path_id,direction,dir_sep,save_nonce){var el=document.getElementsByName(service)[0],p_el=document.getElementsByName(service+"_path_id")[0];if(direction<0){el.value=parent_path;var p,path_id=p_el.value,path_len=path_id.length;if(dir_sep==path_id.substr(-1,dir_sep.length)){path_id=path_id.substr(0,path_len-dir_sep.length)}if((p=path_id.lastIndexOf(dir_sep))>=0){path_id=path_id.substr(0,p)}p_el.value=path_id}else{el.value+=parent_path.childNodes[1].innerHTML;if(parent_path_id){p_el.value+=parent_path_id}}el.value=addTrailingSlash(el.value,dir_sep);p_el.value=addTrailingSlash(p_el.value,dir_sep);var callback=function(){var sb=document.getElementById("sortby"),sa=document.getElementById("sortasc");js55f846e1d1da3.refreshFolderList(el.value,p_el.value,sb?sb.value:null,sa?sa.value:null)};if(!locked_settings()){auto_save(save_nonce,callback)}};var navSortColumn=function(sender,service){document.getElementsByName("sortby")[0].value=sender.attributes.id.value;var el=document.getElementsByName("sortasc")[0];el.value=(el.value=="true"?"false":"true");js55f846e1d1da3.refreshFolderList(document.getElementById(service).value,document.getElementById(service+"_path_id").value,sender.attributes.id.value,el.value)};var navFilesList=function(sender,direction,save_nonce){var el=document.getElementById("dir");var path=el.value;if(sender){if(direction<0){el.value=sender}else{el.value=sender.innerHTML}path=el.value}var callback=function(){js55f846e1d1da3.refreshFileList(path)};if(!locked_settings()){auto_save(save_nonce,callback)}};var spy=function(action,log_type,nonce1,nonce2,nonce3,nonce4){asyncRunBackup(action+"&log_type="+log_type,"Log monitor",nonce1,nonce2,nonce3,nonce4,"log_read_abort&log_type="+log_type)};var chart_callback=function(html,el){var i;do{var results=js_pattern.exec(html.responseText);if(null===results){if(el){el=document.getElementById(el.id+"_wrapper");if(el){el.innerHTML=html.responseText}}}else{evalJS(results[2]);evalJS("js55f846e1d1da3.draw"+el.id+"();");if(el){el=document.getElementById(el.id+"_wrapper")}}}while(results);if(el){el.className=el.className.replace(/loading/g,"")}};function combineCollections(c1,c2){var result=[],i;if(c1){for(i=0;i<c1.length;i+=1){result.push(c1[i])}}if(c2){for(i=0;i<c2.length;i+=1){result.push(c2[i])}}return result}var validateDateEditor=function(sender){if(!sender){return}valid=0===sender.value.length||/\d{4}([\-\/]\d{1,2}){2}/.test(sender.value);if(!valid){sender.style.backgroundColor="red";sender.value="yyyy-mm-dd"}else{sender.style.backgroundColor=""}};var chartZoomIn=function(url,plugin_url,sender,id,ct,nonce){url=isNull(js55f846e1d1da3.ajaxurl,url);var from=document.getElementById(id+"d1"),to=document.getElementById(id+"d2");from=null!==from?("&from="+from.value):"";to=null!==to?("&to="+to.value):"";var zoom_factor=2,w=zoom_factor*sender.offsetWidth,h=zoom_factor*sender.offsetHeight,l=(screen.width-w)/2,t=(screen.height-h)/2;var specs="centerscreen,innerWidth="+w+",innerHeight="+h+",location=no,menubar=no,resizable=no,scrollbars=no,status=no,titlebar=yes,toolbar=no,personalbar=no,width="+(w+40)+",height="+(h+40)+",top="+t+",left="+l;var popup=window.open("","zoom2x",specs,true);var script="<head>\n",scrip_files=["globals","admin"];script+="<script>window.ajaxurl='"+url+"';<\/script>";script+="<script src=\"https://www.google.com/jsapi?autoload={'modules':[{'name':'visualization','version':'1','packages':['corechart','gauge']}]}\"><\/script>\n";for(var i=0;i<scrip_files.length;i++){script+="<script src='"+baseName(plugin_url)+"/js/wpmybackup-"+scrip_files[i]+".js'><\/script>\n"}script+="\n</head>";if(null==popup.document.body){script+="<body>"}else{popup.document.body.innerHTML=""}script+="<div id='"+id+"_wrapper'><div id='"+id+"'></div></div><input type='text' id='"+id+"d1' style='display:none'><input type='text' id='"+id+"d2' style='display:none'>\n";script+="<script>js55f846e1d1da3.asyncGetContent('"+url+"', 'action=get_chart&nonce="+nonce+"&id="+id+"&ct="+ct+from+to+"&zf="+zoom_factor+"', '"+id+"',js55f846e1d1da3.chart_callback);<\/script>\n";if(null==globals.CHART_ZOOM_POPUP){script+="</body></html>"}popup.document.write(script);popup.document.title="Chart "+zoom_factor+"x zoom";globals.CHART_ZOOM_POPUP=popup;popup.focus()};var passwordEntropy=function(password){var l,n,total,h,strength,color;l=password.length;n=1+("~").charCodeAt(0)-("!").charCodeAt(0);total=Math.pow(n,l);h=l*Math.log(n)/Math.LN2;if(h<28){strength="very weak";color="#8B0000"}else{if(h<35){strength="weak";color="#f00"}else{if(h<55){strength="fair";color="#FF8C00"}else{if(h<127){strength="strong";color="#008000"}else{strength="very strong";color="#006400"}}}}return{strength:strength,color:color,entropy:h}};var addHeaderToggle=function(elements,isH4,img_path){var j,div,c="closed",t=" (minimized)",arrows=[];arrows[true]='url("'+img_path+'toggle-down.png")';arrows[false]='url("'+img_path+'toggle-up.png")';for(j=0;j<elements.length;j+=1){div=document.createElement("div");div.className="togglediv";div.style.backgroundImage=arrows[true];elements[j].onclick=function(e){var sender=(e)||(window.event&&window.event.srcElement);if(sender){if(sender.tagName!="H4"){sender=this}var d=sender.parentNode,n=d.className,a=sender.childNodes,h=a[0].data,nc=n.indexOf(c)>=0,status;d.className=nc?n.replace(c,""):n+" "+c;if(a[1]){status=arrows[true]!=a[1].style.backgroundImage;a[1].style.backgroundImage=arrows[status]}if(h){a[0].data=nc?h.replace(t,""):h+t}if(""!=d.id){setCookie(d.id+"_status",status,1)}}};if(isH4){div.style.marginTop=0}elements[j].appendChild(div)}};var getCookie=function(cname){var ca=document.cookie.split(";");var pair=null,found=false;for(var i=0;!found&&i<ca.length;i++){pair=(ca[i].trim()).split("=");if(pair&&pair[0]==cname){found=true}}return found&&pair&&pair.length>1?pair[1]:null};var setCookie=function(cname,cvalue,exdays,force){force=isNull(force,false);if(!force&&"false"==getCookie("cookie_accept")){return}var d=new Date();d.setTime(d.getTime()+(exdays*24*60*60*1000));var expires="expires="+d.toUTCString();document.cookie=cname+"="+cvalue+"; "+expires};var toggle_header=function(id,ignore_cookie){var el=document.getElementById(id);ignore_cookie=isNull(ignore_cookie,false);if(el){if(!ignore_cookie&&"true"==getCookie(id+"_status")){return}el.children[0].click()}};var showFileSpin=function(el,visible){if(el){var spin_class=" spin";if(visible){globals.spin_style=el.getAttribute("style");globals.spin_class=el.className;el.setAttribute("style","visibility:visible");el.className=spin_class}else{el.className=globals.spin_class;el.setAttribute("style",globals.spin_style)}el.innerHTML=el.innerHTML}};function folderListDwl(spin,filename,direct_url){var i,el,p,v,service=document.getElementById("file_provider"),path;var nonces=document.getElementById("file_provider_nonce").value,nonce=nonces.split(",")[0];var download_redirect=document.getElementById("file_dwl_redirect");service=service?service.value:"";path=document.getElementById(service+"_path_id");path=path?path.value:"";if(download_redirect){download_redirect=download_redirect.value;var dynamic_params=["user","pwd","host","port",""];for(i=0;i<dynamic_params.length;i+=1){p=dynamic_params[i];el=document.getElementById(service+p);if(el){v=el.value;if(2==i){v=v.replace(/(\w+:\/\/)/i,"")}download_redirect=download_redirect.replace("<"+service+p+">",encodeURI(v))}}}if(null!==download_redirect||direct_url){window.location.assign(direct_url?filename:(download_redirect+filename))}else{getFile(spin,path+filename,service,nonce)}}var getFakeAttrFromStyle=function(element,attribute){var x,style=element.getAttribute("style"),i,result=null;if(style){style=String(style).split(";");for(i=0;i<style.length;i+=1){if(style[i].indexOf(attribute)>=0){result=style[i].split(":")[1];break}}if(result){result=result.replace(" ",":")}}return result};function createPopupItem(parent,cmd_name,file_name,onclick,dwl_url,is_separator,no_filename,on_folderup){if(file_name&&".."==file_name.trim()&&!on_folderup){return}var tr=createDocElement(parent,"tr"),td=createDocElement(tr,"td");if(!is_separator){td.innerHTML="<b>"+cmd_name+"</b> "+(no_filename?"..":file_name.replace("\\","&#92;"));if(onclick){tr.onclick=onclick}if(dwl_url){tr.setAttribute("style",'dwl_url:"'+dwl_url+'";')}}else{td.setAttribute("class","contextmenu_separator");td.setAttribute("style","padding:0")}}var onCmdExecSuccess=function(xmlhttp,el){if("1"==xmlhttp.responseText.replace(/\n/,"")){removePopupLast();js55f846e1d1da3.refreshFolderList()}else{showFileSpin(el,false);popupError("Error",xmlhttp.responseText,545)}};var onGenerateEditorContentContextMenu=function(ev){ev=ev?ev:window.event;var targetElement=ev.target||ev.srcElement;var currentTarget=(ev.currentTarget)?ev.currentTarget:ev.srcElement;function getFileProviderNonce(index){var nonces=document.getElementById("file_provider_nonce").value;return nonces.split(",")[index]}function getFileService(){var service=document.getElementById("file_provider");return service?service.value:null}function getPathByService(service){var path=null;if(service){path=document.getElementById(service+"_path_id")}return path?path.value:""}function execCmdConfirm(title,action,index){var service=getFileService(),path=getPathByService(service),nonce=getFileProviderNonce(index);service=service?service:"unknown";var msg="Are you really sure you want to "+title.toLowerCase()+" <br>"+(null!==file_id?"":path)+"<b>"+file_name+"</b> ?";popupConfirm(title,msg,"#F4CE2D",{Yes:"var spin=document.getElementById('"+dwl_spin.id+"');js55f846e1d1da3.showFileSpin(spin,true);js55f846e1d1da3.asyncGetContent(js55f846e1d1da3.ajaxurl,'action="+action+"&nonce="+nonce+"&service="+service+"&location="+path+(null!==file_id?file_id:file_name)+"', spin.id, js55f846e1d1da3.onCmdExecSuccess, true)",Cancel:null})}function execCmdPrompt(title,prompt,action,prompt_param,index,no_default){no_default=isNull(no_default,false);var service=getFileService(),path=getPathByService(service),nonce=getFileProviderNonce(index);service=service?service:"unknown";popupPrompt(title,prompt,null,{Ok:"var v=parentNode.parentNode.parentNode.getElementsByTagName('INPUT')[0].value;"+(!no_default?"if(v=='"+file_name+"'){popupError('Input error','The old value and the new value cannot be the same.');return}":"")+"var spin=document.getElementById('"+dwl_spin.id+"');js55f846e1d1da3.showFileSpin(spin,true);js55f846e1d1da3.asyncGetContent(js55f846e1d1da3.ajaxurl,'action="+action+"&nonce="+nonce+"&service="+service+"&location="+path+(null!==prompt_param?(null!==file_id?file_id:file_name)+"&"+prompt_param+"=":"")+"'+v, spin.id, js55f846e1d1da3.onCmdExecSuccess, true)",Cancel:null},no_default?"":file_name)}function delFile(){execCmdConfirm("Delete file","del_file",2)}function rstFile(){execCmdConfirm("Restore file","rst_file",3)}function delDir(){execCmdConfirm("Remove folder","del_dir",4)}function renFile(){execCmdPrompt("File rename","Please enter the new name:","ren_file","new_name",1)}function mkDir(){execCmdPrompt("New folder","Please enter the directory name:","mk_dir",null,5,true)}function chDir(){navFolder(getFileService(),parent_tr,"/")}function dwlFile(){folderListDwl(dwl_spin,null!==dwl_url?dwl_url:(null!==file_id?file_id:file_name),null!==dwl_url)}var i,folder_list=currentTarget,parent_tr=targetElement.parentElement,file_name=parent_tr.childNodes[1].innerHTML,file_id=getFakeAttrFromStyle(parent_tr,"file_id"),first_td=parent_tr.firstElementChild,is_dir=false,is_dirup=false,dwl_url=null,dwl_spin=parent_tr.childNodes[0].childNodes[0];if(file_id&&file_id.length>2){file_id=file_id.substring(1,file_id.length-1)}var file_cmd=[{name:"Create new dir",onclick:mkDir,no_fname:true},{name:null},{name:"Download",onclick:dwlFile},{name:"Rename",onclick:renFile},{name:"Delete",onclick:delFile},{name:null},{name:"Restore",onclick:rstFile}];var dir_cmd=[{name:"Change dir",onclick:is_dirup?parent_tr.onclick:chDir},{name:null},{name:"Create new dir",onclick:mkDir,no_fname:true},{name:"Rename dir",onclick:renFile},{name:"Remove dir",onclick:delDir}];if(first_td){first_div=first_td.firstElementChild;if(first_div&&["folder","folderup","dropbox","google"].indexOf(first_div.className)>=0){is_dir=true;is_dirup="folderup"==first_div.className}else{dwl_url=getFakeAttrFromStyle(parent_tr,"dwl_url");if(dwl_url){dwl_url=dwl_url.substring(1,dwl_url.length-1)}}}var div=createDocElement(document.body,"div",{id:"folder_list_popup","class":"contextmenu",style:"top:"+(ev.clientY-8)+"px;left:"+(ev.clientX-8)+"px;"});var table=createDocElement(div,"table");var cmd_list=!is_dir?file_cmd:dir_cmd;for(i=0;i<cmd_list.length;i+=1){createPopupItem(table,cmd_list[i].name,file_name,cmd_list[i].onclick,dwl_url,null==isNull(cmd_list[i].name,null),null!==isNull(cmd_list[i].no_fname,null),null!==isNull(cmd_list[i].on_folderup,null))}if(0==div.childNodes[1].childElementCount){removePopup(div);div=null;return true}var tmp=folder_list.onmouseover;folder_list.onmouseover=function(){if(div){removePopup(div)}div=null;if(tmp){tmp()}if(dwl_spin&&"spin"==dwl_spin.className){dwl_spin.style.visibility="hidden"}};var inF=false;okd=document.onkeydown;document.onkeydown=function(a){if(inF){return}inF=true;a=a||window.event;if(a.keyCode==27&&div){removePopup(div);div=null;if(dwl_spin&&"spin"==dwl_spin.className){dwl_spin.style.visibility="hidden"}}if(okd){okd(a)}inF=false};globals.OPENED_POPUP_WINDOWS[div.id]=false;if(ev.preventDefault){ev.preventDefault()}else{ev.returnValue=false}return false};var onGenerateEditorContentClick=function(ev,nonce_save,dir_sep){ev=ev?ev:window.event;var targetElement=ev.target||ev.srcElement;var i,file_id="/",folder_list=ev.currentTarget;var parent_tr=targetElement.parentElement;if("TH"==parent_tr.tagName||"TH"==targetElement.nodeName){return}var dwl_spin=parent_tr.childNodes[0].childNodes[0];var file_name=parent_tr.childNodes[1].innerHTML;var td_title=parent_tr.childNodes[1].title;var first_td=parent_tr.firstElementChild;var is_dir=false,dwl_url=null;if(first_td){first_div=first_td.firstElementChild;is_dir=(first_div&&["folder","folderup","dropbox","google"].indexOf(first_div.className)>=0)}if(!is_dir){dwl_url=getFakeAttrFromStyle(parent_tr,"dwl_url");if(dwl_url){dwl_url=dwl_url.substring(1,dwl_url.length-1)}}file_id=getFakeAttrFromStyle(parent_tr,"file_id");if(file_id&&file_id.length>2){file_id=file_id.substring(1,file_id.length-1)}var service=document.getElementById("file_provider");service=service?service.value:"";if(is_dir){if(".."==file_name.trim()){return}navFolder(service,parent_tr,file_id,1,dir_sep,nonce_save)}else{folderListDwl(dwl_spin,null!==dwl_url?dwl_url:(null!==file_id?file_id:file_name),null!==dwl_url)}};var abortJob=function(abort_action,nonce,id,on_success){if(null==id){popupError("Error","The specified job is null.<br>Is the job already finished?");return}abort_action=isNull(abort_action,"abort_job");var on_confirm="console.log('Sending the abort signal to the server..');js55f846e1d1da3.asyncGetContent(js55f846e1d1da3.ajaxurl, 'action="+abort_action+"&job_status=3&nonce="+nonce+"&id="+id+"'";on_confirm+=", '__dummy__', ";on_confirm+="function(xmlhttp) {var s = xmlhttp.responseText.trim();";on_confirm+="if ('1' == s || 0 === s.length){"+on_success+"}else popupError('Error', s);";on_confirm+="});js55f846e1d1da3.removePopupLast();";popupConfirm("Confirm job abort","Are you really sure you want to abort the job #"+id+"?",null,{"Yes, I`m pretty sure":on_confirm,Cancel:null})};var onHistoryListContextMenu=function(ev){function _abortJob(){var nonces=document.getElementById("history_provider_nonce").value,nonce=nonces.split(",")[0];js55f846e1d1da3.abortJob(null,nonce,job_id,"location.reload(true);")}function chkLog(){if(!job_id){return}js55f846e1d1da3.asyncGetJobLog(job_id)}var i,folder_list=ev.currentTarget,parent_tr=ev.target.parentElement,first_td=parent_tr.firstElementChild,job_id=first_td.innerHTML;var suspect_cmd=[{name:"Check log status",onclick:chkLog,no_fname:true},{name:"Forcebly abort job",onclick:_abortJob}];var div=createDocElement(document.body,"div",{id:"history_list_popup","class":"contextmenu",style:"top:"+(ev.clientY-8)+"px;left:"+(ev.clientX-8)+"px;"});var table=createDocElement(div,"table");var cmd_list=suspect_cmd;for(i=0;i<cmd_list.length;i+=1){createPopupItem(table,cmd_list[i].name,job_id,cmd_list[i].onclick,null,null==isNull(cmd_list[i].name,null),null!==isNull(cmd_list[i].no_fname,null))}if(0==div.childNodes[1].childElementCount){removePopup(div);div=null;return true}var tmp=folder_list.onmouseover;folder_list.onmouseover=function(){if(div){removePopup(div)}div=null;if(tmp){tmp()}};var inF=false;okd=document.onkeydown;document.onkeydown=function(a){if(inF){return}inF=true;a=a||window.event;if(a.keyCode==27&&div){removePopup(div);div=null}if(okd){okd(a)}inF=false};if(ev.preventDefault){ev.preventDefault()}else{ev.returnValue=false}return false};function getUrlParamValue(url,param_name){if("string"!=typeof url){return null}var params=url.split("&"),i,pair;for(i=0;i<params.length;i+=1){pair=params[i].split("=");if(decodeURIComponent(pair[0])==param_name){return decodeURIComponent(pair[1])}}return null}var captureKeyDown=function(keyCode,callback){js55f846e1d1da3._addEventListener(document,(ie<9?"on":"")+"keydown",function(ev){ev=ev||window.event;if(ev.keyCode==keyCode){callback();if(ev.preventDefault){ev.preventDefault()}else{ev.returnValue=false}return false}})};var captureMouseDown=function(element,special_key,callback,use_capture){var omd=element.onmousedown;use_capture=isNull(use_capture,false);js55f846e1d1da3._addEventListener(element,"mousedown",function(a){var found=true,a=a||window.event;switch(special_key){case 1:found=a.ctrlKey;break;case 2:found=a.ctrlAlt;break;case 3:found=a.ctrlShift;break}if(found){callback(element)}if(omd){omd(a)}},use_capture)};var showClipboardBtn=function(sender,visible,imgid){var el=document.getElementById(imgid);if(!el||(visible&&!sender)){return}el.style.visibility=visible;if(!visible){return}el.style.top=5-sender.clientHeight+"px"};function stripHTMLTags(str){return str.replace(/<(\s*[^\s]+\s*)[^>]*>([^<]*)?<\/\1>/g,"$2")}function stripUrlParams(url,params){if(""==isNull(params,"")){return url}var new_url,re,sufixes=["&","?"];params=params.split(",");for(var i=0;i<params.length;i++){re=new RegExp("([?&])"+params[i]+"(=)*[^&]*(&|$)");while(url!=(new_url=url.replace(re,"$1"))){url=new_url}}while(sufixes.indexOf(url.substr(-1,1))>-1){url=url.substr(0,url.length-1)}return url}var stripHelpLink=function(id){var el=document.getElementById(id);if(!el){return}return stripHTMLTags(stripHTMLTags(el.innerHTML))};var panzoom=function(caption,image){popupWindow(caption,'<img src="../img/'+image+'">')};var queryElement=function(root,inheritence){if(!root){return null}inheritence=inheritence.toUpperCase();var down=inheritence.split(">"),up=inheritence.split("<"),i;for(i=0;i<up.length;i++){var parts=up[i].split(":"),tagName=parts[0],tagClassName=parts.length>1?parts[1]:"",y=tagName+":"+tagClassName;while(root){x=root.parentNode;while(x&&(x.tagName?x.tagName.toUpperCase():"")+":"+(x.className?x.className.toUpperCase():"")!=y){x=x.previousSibling}if(x){root=x;break}else{root=root.parentNode}}}return root};return{_addEventListener:_addEventListener,abortJob:abortJob,addHeaderToggle:addHeaderToggle,ajaxRequest:ajaxRequest,ajaxurl:ajaxurl,applyJobsFilter:applyJobsFilter,asyncGetContent:asyncGetContent,asyncRunBackup:asyncRunBackup,asyncRunBenchmark:asyncRunBenchmark,asyncRunJob:asyncRunJob,asyncRunRestore:asyncRunRestore,backup_sources:backup_sources,backupcli_hint:backupcli_hint,backupcli_hint:backupcli_hint,captureKeyDown:captureKeyDown,captureMouseDown:captureMouseDown,chartReload:chartReload,chartZoomIn:chartZoomIn,chart_callback:chart_callback,chkDesc:chkDesc,clearLog:clearLog,copyObjProps:copyObjProps,createDocElement:createDocElement,delTarget:delTarget,editTarget:editTarget,fadeSSLIcons:fadeSSLIcons,feedbackSupported:feedbackSupported,filterJobs:filterJobs,flushHistory:flushHistory,ftpExecCmd:ftpExecCmd,getAsyncSubmitFields:getAsyncSubmitFields,getFakeAttrFromStyle:getFakeAttrFromStyle,getFieldValues:getFieldValues,getShowWhat:getShowWhat,helpROOT:helpROOT,history_hint:history_hint,ie:ie,isNull:isNull,message_info:message_info,messages_scroll:messages_scroll,navFilesList:navFilesList,navFolder:navFolder,navSortColumn:navSortColumn,onCmdExecSuccess:onCmdExecSuccess,onGenerateEditorContentClick:onGenerateEditorContentClick,onGenerateEditorContentContextMenu:onGenerateEditorContentContextMenu,onHistoryListContextMenu:onHistoryListContextMenu,onSaveError:onSaveError,os_schedule_hint:os_schedule_hint,panzoom:panzoom,passwordEntropy:passwordEntropy,php_setup:php_setup,plugin_dir:plugin_dir,popupCalcSize:popupCalcSize,popupConfirm:popupConfirm,popupError:popupError,popupPrompt:popupPrompt,popupWindow:popupWindow,post:post,print_debug_sample:print_debug_sample,read_alerts:read_alerts,refreshDiskSrcInfo:refreshDiskSrcInfo,refreshFileList:refreshFileList,refreshFolderList:refreshFolderList,refreshTicketList:refreshTicketList,removePopup:removePopup,removePopupLast:removePopupLast,run_mysql_maint:run_mysql_maint,scroll2page:scroll2page,search_rest_file:search_rest_file,send_oauthrequest:send_oauthrequest,getCookie:getCookie,setCookie:setCookie,setErrorInfoVisibility:setErrorInfoVisibility,setNightlyBuildWarning:setNightlyBuildWarning,setSupportBtnCaption:setSupportBtnCaption,setTestimonialVisibility:setTestimonialVisibility,showClipboardBtn:showClipboardBtn,showFileSpin:showFileSpin,showScheduleInterval:showScheduleInterval,spy:spy,stripHelpLink:stripHelpLink,stripUrlParams:stripUrlParams,submitOptions:submitOptions,subtotal:subtotal,this_url:this_url,toggle_backup_name:toggle_backup_name,toggle_children:toggle_children,toggle_compression_type:toggle_compression_type,toggle_enabled:toggle_enabled,toggle_feat_chks:toggle_feat_chks,toggle_feat_grpchks:toggle_feat_grpchks,toggle_header:toggle_header,toggle_mysql_maint:toggle_mysql_maint,toggle_wp_cron:toggle_wp_cron,toolchain_ext_hint:toolchain_ext_hint,validateDateEditor:validateDateEditor,validateFormData:validateFormData,queryElement:queryElement,onaddon_install:onaddon_install,locked_settings:locked_settings,globals:globals}})(this,window.js55f846e1d1da3Globale);